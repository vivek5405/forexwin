import{C as w,r as h}from"./svgCode-df7424c2.js";import{L as x}from"./Loader-2a245e7b.js";import{B}from"./Bottombar-3ad96092.js";import{T as S}from"./Topbar-b76c5e96.js";import{f as d}from"./fetchDataFromApi-7cabb98a.js";import{A as y}from"./index-8a853dbf.js";import{_ as L,f as c,g as p,j as A,k as T,l as m,m as t,t as _,s as g,u as k,F as R,y as M,z as D,A as l,v as H,x as I}from"./index-8cd42024.js";/* empty css                                               */const u=y({}),N={components:{ContentWrapper:w,Bottombar:B,Loader:x,Topbar:S},data(){return{recButton:[{amount:1e3},{amount:3e3},{amount:5e3},{amount:1e4},{amount:3e4},{amount:5e4},{amount:1e5},{amount:8e5}],loadingStatus:!1,activeButton:0,amount:1e3,activeChannel:1,upi_icon:h.icon1,usdt_icon:h.icon2,trx_icon:h.icon3,balance:0}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchDataRecharge()},{immediate:!0})},methods:{async fetchDataRecharge(){this.loadingStatus=!0;try{const e=await d("/api/recharge");e.status===!0?this.balance=e.balance:u.error(e.message,{position:"top",duration:1500,max:1500}),this.loadingStatus=!1}catch{u.error("Something went wrong",{position:"top",duration:1500,max:1500}),this.loadingStatus=!1}},async recharge(){this.loadingStatus=!0;const e=this.activeChannel===1?"upi":this.activeChannel===2?"usdt":"trx";try{const a=await d(`/api/recharge/${e}`,{amount:this.amount});a.status===!0?window.open(a.url,"_blank","noreferrer"):u.error(a.message,{position:"top",duration:1500,max:1500}),this.loadingStatus=!1}catch{u.error("Something went wrong",{position:"top",duration:1500,max:1500}),this.loadingStatus=!1}},formatAmount(e){return e>=1e3?e.toLocaleString():e.toString()},setActiveButton(e){this.activeButton=e},setActiveChannel(e){this.activeChannel=e}},watch:{activeButton(e){e!==null&&(this.amount=this.recButton[e].amount)}}},s=e=>(H("data-v-9c1195e0"),e=e(),I(),e),F={class:"recharge-wrapper mt-[10px]"},U={class:"recharge-balance-wrapper"},V=s(()=>t("p",{class:"balance-title"},"Available Balance (₹)",-1)),W={class:"balance"},z={class:"recharge-amount-wrapper p-[15px]"},j=s(()=>t("p",{class:"recharge-amount-title"}," Recharge Amount ",-1)),E={class:"rec-btn-wrapper grid grid-cols-4 gap-3 mt-[20px]"},P=["onClick"],X={class:"recharge-input-wrapper"},q=s(()=>t("span",{class:"rupee-symbol"},"₹",-1)),G={class:"recharge-channel-wrapper p-4"},J=s(()=>t("p",{class:"recharge-channel-title"}," Recharge Channel ",-1)),K={class:"recharge-channel grid grid-cols-4 gap-3 mt-[2px]"},O=["innerHTML"],Q=s(()=>t("p",null,"UPI",-1)),Y=["innerHTML"],Z=s(()=>t("p",null,"USDT",-1)),$=["innerHTML"],tt=s(()=>t("p",null,"TRX",-1));function et(e,a,nt,at,n,r){const v=c("Loader"),b=c("Topbar"),f=c("Bottombar"),C=c("ContentWrapper");return p(),A(C,{classname:"pb-[80px]"},{default:T(()=>[m(v,{isLoading:n.loadingStatus},null,8,["isLoading"]),t("div",F,[m(b,{title:"Recharge",mainClass:"",route:"/recharge-history",className2:""}),t("div",U,[V,t("p",W,_(r.formatAmount(n.balance)),1)]),t("div",z,[j,t("div",E,[(p(!0),g(R,null,k(n.recButton,(o,i)=>(p(),g("button",{type:"button",class:l(["my-1",{"rec-active-btn":n.activeButton===i,"rec-inactive-btn":n.activeButton!==i}]),key:i,onClick:ot=>r.setActiveButton(i)},"₹"+_(o.amount),11,P))),128))]),t("div",X,[q,M(t("input",{type:"tel","onUpdate:modelValue":a[0]||(a[0]=o=>n.amount=o),id:"mob",maxlength:"10",placeholder:"Mobile Number",autocomplete:"off",class:"recharge-amount-input"},null,512),[[D,n.amount]])])]),t("div",G,[J,t("div",K,[t("div",{class:l({"recharge-channel-button-active":n.activeChannel===1,"recharge-channel-button-inactive":n.activeChannel!==1}),onClick:a[1]||(a[1]=o=>r.setActiveChannel(1))},[t("div",{innerHTML:n.upi_icon},null,8,O),Q],2),t("div",{class:l({"recharge-channel-button-active":n.activeChannel===2,"recharge-channel-button-inactive":n.activeChannel!==2}),onClick:a[2]||(a[2]=o=>r.setActiveChannel(2))},[t("div",{innerHTML:n.usdt_icon},null,8,Y),Z],2),t("div",{class:l({"recharge-channel-button-active":n.activeChannel===3,"recharge-channel-button-inactive":n.activeChannel!==3}),onClick:a[3]||(a[3]=o=>r.setActiveChannel(3))},[t("div",{innerHTML:n.trx_icon},null,8,$),tt],2)]),t("button",{type:"button",class:"button-design1 mt-[30px]",onClick:a[4]||(a[4]=o=>r.recharge())},"Recharge")])]),m(f,{data:1})]),_:1})}const mt=L(N,[["render",et],["__scopeId","data-v-9c1195e0"]]);export{mt as default};
