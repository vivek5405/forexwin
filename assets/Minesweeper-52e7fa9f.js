import{_ as V,a as W}from"./ribbon-gold-3d9e9c01.js";import{f as A}from"./fetchDataFromApi-7cabb98a.js";import{_ as I,B as G,r as P,w as X,f as D,g as n,j as z,k as F,l as b,m as t,s as l,u as g,F as v,A as _,D as d,q as f,t as a,C as T,y as U,z as R,v as Y,x as j}from"./index-565fe5f5.js";import{C as H,g as C}from"./svgCode-dac174fa.js";import{L as K}from"./Loader-5f31f96d.js";import{T as q}from"./Topbar-fda7593e.js";import{s as J}from"./Svg-87cad942.js";import"./index-c2ed2bf5.js";import{g as Q}from"./getFormatedTime-6fc0ed32.js";import{_ as x}from"./mine-bomb-74122614.js";/* empty css                                               */const N="/assets/coin-90e05279.png",L="/assets/mine1-aedde27f.png",E="/assets/bg-bomb-a4fce66d.png",Z="/assets/mine-bomb-31fb26ea.png",M="/assets/bomb-loose-1-8c26f2c7.png";const $={components:{ContentWrapper:H,Loader:K,Topbar:q,svgVue:J,VueBottomSheet:G},data(){return{isBottomSheetOpen1:!1,isBottomSheetOpen2:!1,loadingStatus:!1,activeBtn:null,toggleBtn:1,toggleBtn1:1,fakeData:[],amount:10,multiplier:1,betBtn:[{amount:10,id:0},{amount:100,id:1},{amount:1e3,id:2},{amount:1e4,id:3}],betBtnActive:0,toggle1btnlist:[{name:"2X2",id:1},{name:"4X4",id:2}],icon1:C.icon10,icon2:C.icon11,icon3:C.icon4,icon4:C.icon5,icon5:C.icon1,board:[],gameStarted:!1,gameOver:!1,gameWon:!1,currentval:0,nextval:0,totalval:0,checkedBox:[],period:null,bomb:null,bombPosition:null,refreshKey:0,fee:0,dialogData:{}}},created(){this.generateBoard(),this.gameStarted=!1,this.gameOver=!1},methods:{isChecked(i){return this.checkedBox.includes(i)},openDialog(){this.isBottomSheetOpen2=!0},closeDialog(){this.isBottomSheetOpen2=!1},openBottomSheet1(){this.isBottomSheetOpen1=!0},closeBottomSheet1(){this.isBottomSheetOpen1=!1},selectBetBtn(i,o){this.amount=o,this.betBtnActive=i},handleClickOpenBetDialog(){this.isBottomSheetOpen1=!0},decrement(i){this.multiplier>1&&this.multiplier>i&&(this.multiplier=this.multiplier-i)},increment(i){this.multiplier<=20&&20>=i+this.multiplier&&(this.multiplier=this.multiplier+i)},generateBoard(){let i=this.toggleBtn===1?2:4;this.board=[];for(let o=0;o<i*i;o++)this.board.push(o)},formattedTime(i,o){return Q(i,o)},async startGame(){if(this.gameStarted){console.log("already game running ");return}try{const i=await A("/api/games/betMine",{amount:parseInt(this.amount*this.multiplier),size:this.toggleBtn===1?2:4});i.status?(this.currentval=i.TotalPoint,this.nextval=i.NextPoint,this.period=i.period,this.board=i.board,this.amount=i.amount,this.tax=i.tax,this.gameStarted=!0,this.gameOver=!1,this.bombPosition=null,this.bomb=null,this.isBottomSheetOpen1=!1):console.error("Error fetching data:",i.message)}catch(i){console.error("Error fetching data:",i)}},async openBox(i){if(this.gameStarted&&!i.checked)try{const o=await A("/api/games/claimBox",{box:i.position,period:this.period}),y=document.getElementById(`cell-${i.position}`);y.classList.remove("hidden"),y.classList.add("shake"),setTimeout(()=>{y.classList.remove("shake"),y.classList.add("hidden"),o.status?o.bomb?(this.bomb=!0,this.bombPosition=o.bombPosition,this.board=o.board,this.gameStarted=!1,this.gameOver=!0,this.currentval=0,this.nextval=0,this.totalval=0,this.dialogData={win:!1,size:o.size,pass:o.pass,board:o.board,orderAmount:o.orderAmount,winAmount:o.winAmount,bombPosition:o.bombPosition},console.log("User Loose ₹"+o.orderAmount,this.dialogData),this.isBottomSheetOpen2=!0,this.period=0):o.win?(this.bomb=!1,this.bombPosition=o.bombPosition,this.board=o.board,setTimeout(()=>{this.currentval=0,this.nextval=0,this.totalval=0,this.gameWon=!0,this.gameStarted=!1,this.gameOver=!0},200),this.dialogData={win:!0,size:o.size,pass:o.pass,board:o.board,orderAmount:o.orderAmount,winAmount:o.winAmount,bombPosition:o.bombPosition},console.log("User Win ₹"+o.winAmount,this.dialogData),this.isBottomSheetOpen2=!0,this.period=0):(this.currentval=o.CurrentBonous,this.nextval=o.NextPoint,this.totalval=o.TotalPoint,this.board=o.board):console.error("Error fetching data:",o.message)},1e3)}catch(o){console.error("Error fetching data:",o)}},async stopAndGet(){try{const i=await A("/api/games/stopAndGet",{period:this.period});i.status?(this.bomb=!1,this.bombPosition=i.bombPosition,this.board=i.board,setTimeout(()=>{this.currentval=0,this.nextval=0,this.totalval=0,this.gameWon=!0,this.gameStarted=!1,this.gameOver=!0},200),this.dialogData={win:!0,size:i.size,pass:i.pass,board:i.board,orderAmount:i.orderAmount,winAmount:i.winAmount,bombPosition:i.bombPosition},this.period=0,console.log("User Win ₹"+i.winAmount,this.dialogData),this.isBottomSheetOpen2=!0):console.error("Error fetching data:",i.message)}catch(i){console.error("Error fetching data:",i)}},handleClick(i){this.gameStarted||(this.toggleBtn=i,this.generateBoard())},handleClick1(i){this.toggleBtn1=i}},setup(){const i=P(0),o=P([]),y=P([]);P([]);const B=async()=>{try{const p=await A("/api/games/minesweeperOrderRecords");o.value=p.myOrders,y.value=O()}catch(p){console.error("Error fetching data:",p)}};function s(){const p=new Date,u=String(p.getHours()).padStart(2,"0"),k=String(p.getMinutes()).padStart(2,"0");return`${u}:${k}`}function c(p,u){return Math.floor(Math.random()*(u-p+1))+p}function O(){const p=[],u=[1,2];for(let k=0;k<20;k++){const w=s(),e=`***${String(c(100,999))}`,m=u[Math.floor(Math.random()*u.length)];let h;m===1?h=c(1,3):h=c(2,13);const S=m===1?c(30,300):c(1e3,3e3);p.push({time:w,user:e,select:m,pass:h,amount:S})}return p}return B(),X(i,()=>{B()}),{fakeData:y,myOrders:o,period:i}}},r=i=>(Y("data-v-6aeea6a5"),i=i(),j(),i),tt={class:"minesweeper-wrapper p-[15px]"},et={class:"switch-board"},st=["onClick"],ot=["onClick"],it={key:0,class:"cell-bomb"},nt=r(()=>t("img",{src:x,alt:""},null,-1)),lt=[nt],at={key:1,class:"cell-value"},ct=r(()=>t("img",{src:N,alt:""},null,-1)),rt=["id"],dt=["onClick"],mt={key:0,class:"cell-bomb"},ut=r(()=>t("img",{src:x,alt:""},null,-1)),pt=[ut],ht={key:1,class:"cell-value"},_t=r(()=>t("img",{src:N,alt:""},null,-1)),bt=["id"],gt={class:"start-btn-inside"},vt={class:"start-btn"},yt={key:0,class:"minesweeper-btn-wrapper"},ft={class:"color-btn-wrapper mt-[30px]"},kt={class:"bonous-btn"},xt=r(()=>t("p",{class:"bonous-txt"},"Bonous",-1)),Bt={class:"bonous-amt mt-[5px]"},St={class:"next-btn"},Dt=r(()=>t("p",{class:"next-txt"},"Next",-1)),Ct={class:"next-amt mt-[5px]"},At=r(()=>t("p",{class:"stop-txt"},"Stop and get bonus",-1)),Pt={class:"color-btn-detail-wrapper"},Ot={class:"bet-amount"},wt={class:"fee-amount"},zt={class:"delivery-amount"},Ft={class:"orders-wrapper"},Tt={class:"order-btn-wrapper grid grid-cols-2"},Et={class:"order-list-wrapper"},Lt={key:0,class:"everyone-list-main"},Nt=r(()=>t("div",{class:"order-heading-wrapper px-[10px] flex mt-[16px]"},[t("p",{class:"period-head"},"Period"),t("p",{class:"user-head"},"User"),t("p",{class:"select-head"},"Pass"),t("p",{class:"point-head"},"Point")],-1)),Vt={class:"everyonelist-wrapper"},Wt={class:"period-txt"},It={class:"user-txt"},Gt={class:"select-txt"},Xt={class:"point-txt"},Ut={key:1,class:"my-order-list-main"},Rt={class:"mylist-wrapper"},Yt={class:"grid-container"},jt=r(()=>t("img",{src:x,alt:""},null,-1)),Ht=[jt],Kt={key:1,class:"cell-value"},qt=r(()=>t("img",{src:x,alt:""},null,-1)),Jt=[qt],Qt={key:1,class:"cell-value"},Zt={class:"right flex-1"},Mt={class:"top"},$t={class:"point-section"},te=r(()=>t("p",{class:"heading"},"Point",-1)),ee={class:"data"},se={class:"pass-section"},oe=r(()=>t("p",{class:"heading"},"Pass",-1)),ie={class:"data"},ne={class:"bonous-section"},le=r(()=>t("p",{class:"heading"},"Bonous",-1)),ae={class:"bottom ml-[10px] mr-[6px]"},ce={class:"bottom-left"},re={class:"heading"},de={class:"date"},me={class:"bottom-right"},ue={class:"heading"},pe=r(()=>t("p",{class:"complaint"},"Complaint",-1)),he={class:""},_e={class:"bottom-sheet-content1 betdialog"},be={class:"flex"},ge={type:"button",class:"select-btn select-number"},ve={className:"input2-container mt-[25px]"},ye=r(()=>t("p",{className:"input2-txt"},a("RECHARGE"),-1)),fe=r(()=>t("p",{class:"contract-money"},"Contract Money",-1)),ke={class:"contract-money-btn-wrapper flex mt-[8px]"},xe=["onClick"],Be=r(()=>t("p",{class:"contract-money"},"Number",-1)),Se={class:"contract-money-button-wrapper"},De={type:"button",class:"contract-money-multiplier mx-[18px]"},Ce={class:"total-contractmoney-wrapper"},Ae=r(()=>t("button",{type:"button",class:"total-contract-money-title"},"Total Contract Money is",-1)),Pe={class:"total-contract-money"},Oe={class:""},we={class:"result-dialog"},ze={class:"result-main-container"},Fe=r(()=>t("img",{src:E,alt:"",class:"icon1"},null,-1)),Te=r(()=>t("img",{src:E,alt:"",class:"icon2"},null,-1)),Ee=r(()=>t("img",{src:E,alt:"",class:"icon3"},null,-1)),Le={class:"main-bomb"},Ne={class:"result-ribbon-container"},Ve={key:0,src:V,alt:"image"},We={key:1,src:W,alt:"image"},Ie={class:"win-status"},Ge={class:"win-amount-txt"},Xe={class:"grid-container"},Ue=r(()=>t("img",{src:x,alt:""},null,-1)),Re=[Ue],Ye={key:1,class:"cell-value"},je=r(()=>t("img",{src:x,alt:""},null,-1)),He=[je],Ke={key:1,class:"cell-value"},qe={class:"order-and-pass-detail-wrapper"},Je={class:"order-txt"},Qe={class:"pass-txt"},Ze={class:"result-ok-btn-wrapper"};function Me(i,o,y,B,s,c){const O=D("Loader"),p=D("Topbar"),u=D("svgVue"),k=D("vue-bottom-sheet"),w=D("ContentWrapper");return n(),z(w,null,{default:F(()=>[b(O,{isLoading:s.loadingStatus},null,8,["isLoading"]),b(p,{title:"MineSweeper",mainClass:"mt-[10px]",className:"back"}),t("div",tt,[t("div",et,[(n(!0),l(v,null,g(s.toggle1btnlist,(e,m)=>(n(),l("button",{type:"button",class:_(["switch-board-btn",{"active-switch-board-btn":s.toggleBtn===e.id,"inactive-switch-board-btn":s.toggleBtn!==e.id,"ml-[15px]":m===1}]),key:m,onClick:h=>c.handleClick(e.id)},a(e.name),11,st))),128))]),t("div",{class:_(["mainbox-conatiner mt-3",{sweeperBoardSize2:s.toggleBtn==1,sweeperBoardSize4:s.toggleBtn===2}])},[s.toggleBtn===1?(n(!0),l(v,{key:0},g(s.board,(e,m)=>(n(),l("div",{key:m,class:"grid-box1",style:{"aspect-ratio":"1 / 1"},onClick:h=>c.openBox(e)},[s.bomb&&s.bombPosition===e.position?(n(),l("div",it,lt)):e.checked?(n(),l("div",at,[t("p",null,"+   "+a(e.points.toFixed(2)),1),ct])):d("",!0),t("img",{src:L,alt:"",class:"hidden dig",id:`cell-${e.position}`},null,8,rt)],8,ot))),128)):d("",!0),s.toggleBtn===2?(n(!0),l(v,{key:1},g(s.board,(e,m)=>(n(),l("div",{key:m,class:"grid-box2",style:{"aspect-ratio":"1 / 1"},onClick:h=>c.openBox(e)},[s.bomb&&s.bombPosition===e.position?(n(),l("div",mt,pt)):e.checked?(n(),l("div",ht,[t("p",null,"+   "+a(e.points.toFixed(2)),1),_t])):d("",!0),t("img",{src:L,alt:"",class:"hidden dig",id:`cell-${e.position}`},null,8,bt)],8,dt))),128)):d("",!0),s.gameStarted?d("",!0):(n(),l("button",{key:2,class:"start-btnwrapper",type:"button",onClick:o[0]||(o[0]=e=>c.handleClickOpenBetDialog())},[t("div",gt,[t("p",vt,[f("Start "),b(u,{iconname:s.icon1,class:"top"},null,8,["iconname"]),b(u,{iconname:s.icon2,class:"bottom"},null,8,["iconname"])])])]))],2),s.gameStarted?(n(),l("div",yt,[t("div",ft,[t("div",kt,[xt,t("p",Bt,"₹"+a(s.totalval),1),b(u,{iconname:s.icon3,class:"top-eclipse"},null,8,["iconname"]),b(u,{iconname:s.icon4,class:"bottom-eclipse"},null,8,["iconname"])]),t("div",St,[Dt,t("p",Ct,"+₹"+a(s.nextval),1),b(u,{iconname:s.icon3,class:"top-eclipse"},null,8,["iconname"]),b(u,{iconname:s.icon4,class:"bottom-eclipse"},null,8,["iconname"])]),t("div",{class:"stop-btn",onClick:o[1]||(o[1]=(...e)=>c.stopAndGet&&c.stopAndGet(...e))},[At,b(u,{iconname:s.icon3,class:"top-eclipse"},null,8,["iconname"]),b(u,{iconname:s.icon4,class:"bottom-eclipse"},null,8,["iconname"])])]),t("div",Pt,[t("p",Ot,[f(" Points : "),t("span",null,"₹ "+a(s.amount.toFixed(2)),1)]),t("p",wt,[f(" Fee : "),t("span",null,"₹ "+a(s.fee.toFixed(2)),1)]),t("p",zt,[f(" Delivery : "),t("span",null,"₹ "+a((s.amount-s.fee).toFixed(2)),1)])])])):d("",!0),t("div",Ft,[t("div",Tt,[t("button",{type:"button",class:"everyone-order-btn",style:T({background:s.toggleBtn1===1?"#FF3951":"#595989"}),onClick:o[2]||(o[2]=e=>c.handleClick1(1))},"Everyone Order",4),t("button",{type:"button",class:"my-order-btn",style:T({background:s.toggleBtn1===2?"#FF3951":"#595989"}),onClick:o[3]||(o[3]=e=>c.handleClick1(2))},"My Order",4)]),t("div",Et,[s.toggleBtn1===1?(n(),l("div",Lt,[Nt,t("div",Vt,[(n(!0),l(v,null,g(B.fakeData,(e,m)=>(n(),l("div",{class:"list-item",key:m},[t("p",Wt,a(e.time),1),t("p",It,[f(a(e.user)+"   ",1),t("span",null,a(e.select===1?"2X2":"4X4"),1)]),t("p",Gt,a(e.pass),1),t("p",Xt,"₹"+a(e.amount),1)]))),128))])])):d("",!0),s.toggleBtn1===2?(n(),l("div",Ut,[t("div",Rt,[(n(!0),l(v,null,g(B.myOrders,(e,m)=>(n(),l("div",{class:"myOrderCard",key:m},[t("div",Yt,[t("div",{class:_(["mainbox-conatiner",{sweeperBoardSize2:e.size===2,sweeperBoardSize4:e.size===4}])},[e.size===2?(n(!0),l(v,{key:0},g(e.board,(h,S)=>(n(),l("div",{key:S,class:"grid-box1",style:{"aspect-ratio":"1 / 1"}},[e.bomb==h.position?(n(),l("div",{key:0,class:_(["cell-bomb",{"cell-bomb-win":e.status===1,"cell-bomb":e.status===2}])},Ht,2)):h.checked?(n(),l("div",Kt)):d("",!0)]))),128)):d("",!0),e.size===4?(n(!0),l(v,{key:1},g(e.board,(h,S)=>(n(),l("div",{key:S,class:"grid-box2",style:{"aspect-ratio":"1 / 1"}},[e.bomb==h.position?(n(),l("div",{key:0,class:_(["cell-bomb",{"cell-bomb-win":e.status===1,"cell-bomb":e.status===2}])},Jt,2)):h.checked?(n(),l("div",Qt)):d("",!0)]))),128)):d("",!0)],2)]),t("div",Zt,[t("div",Mt,[t("div",$t,[te,t("p",ee,"₹ "+a((e.amount+e.tax).toFixed(2)),1)]),t("div",se,[oe,t("p",ie,a(parseInt(e.board.filter(h=>h.checked).length)),1)]),t("div",ne,[le,t("p",{class:_(["data-bonous",{"win-bonous":e.status===1,"loose-bonous":e.status===2}])},a(e.status===1?`+₹ ${e.TotalPoint.toFixed(2)}`:"₹0.00"),3)])]),t("div",ae,[t("div",ce,[t("p",re,[f("Delivery : "),t("span",null," ₹ "+a(e.amount.toFixed(2)),1)]),t("p",de,a(c.formattedTime(e.createdAt,"DD/MM hh:mma")),1)]),t("div",me,[t("p",ue,[f("Fee : "),t("span",null," ₹ "+a(e.tax.toFixed(2)),1)]),pe])])])]))),128))])])):d("",!0)])])]),t("div",he,[s.isBottomSheetOpen1?(n(),z(k,{key:0},{default:F(()=>[t("div",_e,[t("div",be,[t("button",ge," Select "+a(s.toggleBtn===1?"2X2":"4X4"),1),t("button",{type:"button",class:"rules-btn flex justify-center items-center ms-auto",onClick:o[4]||(o[4]=(...e)=>c.closeBottomSheet1&&c.closeBottomSheet1(...e))},[b(u,{iconname:s.icon5,className:"round"},null,8,["iconname"]),f("   Close ")])]),t("div",ve,[U(t("input",{type:"number",class:"auth-input","onUpdate:modelValue":o[5]||(o[5]=e=>s.amount=e),id:"amount",maxlength:"8",placeholder:"Enter Amount",autocomplete:"off",disabled:!0},null,512),[[R,s.amount]]),ye]),fe,t("div",ke,[(n(!0),l(v,null,g(s.betBtn,e=>(n(),l("button",{type:"button",key:e.id,class:_({"contract-money-active-btn":s.betBtnActive===e.id,"contract-money-inactive-btn":s.betBtnActive!==e.id}),onClick:m=>c.selectBetBtn(e.id,e.amount)},"₹"+a(e.amount),11,xe))),128))]),Be,t("div",Se,[t("button",{type:"button",class:"contract-money-button",onClick:o[6]||(o[6]=e=>c.decrement(5))},"-5"),t("button",{type:"button",class:"contract-money-button ml-[8px]",onClick:o[7]||(o[7]=e=>c.decrement(1))},"-1"),t("button",De,a(s.multiplier),1),t("button",{type:"button",class:"contract-money-button",onClick:o[8]||(o[8]=e=>c.increment(1))},"+1"),t("button",{type:"button",class:"contract-money-button ml-[8px]",onClick:o[9]||(o[9]=e=>c.increment(5))},"+5")]),t("div",Ce,[Ae,t("p",Pe,a(s.multiplier*s.amount),1)]),t("button",{type:"button",class:"confirm-bet",onClick:o[10]||(o[10]=e=>c.startGame())},"Confirm")])]),_:1})):d("",!0)]),t("div",Oe,[s.isBottomSheetOpen2?(n(),z(k,{key:0},{default:F(()=>[t("div",we,[t("div",ze,[t("div",{class:"result-bomb-icon",style:T({background:s.dialogData.win===!1?"#848493":"#464693"})},[Fe,Te,Ee,t("div",Le,[t("img",{src:Z,alt:"",class:_(["icon-2",{"loss-effect1":s.dialogData.win===!1}])},null,2),t("img",{src:M,alt:"",class:_(["icon-1",{"loss-effect1":s.dialogData.win===!1}])},null,2)])],4),t("div",Ne,[s.dialogData.win===!1?(n(),l("img",Ve)):d("",!0),s.dialogData.win===!0?(n(),l("img",We)):d("",!0),t("p",Ie,a(s.dialogData.win===!0?"You Win":"You Loose"),1)]),t("p",Ge,"₹ "+a(s.dialogData.winAmount),1),t("div",Xe,[t("div",{class:_(["mainbox-conatiner",{sweeperBoardSize2:s.dialogData.size===2,sweeperBoardSize4:s.dialogData.size===4}])},[s.dialogData.size===2?(n(!0),l(v,{key:0},g(s.dialogData.board,(e,m)=>(n(),l("div",{key:m,class:"grid-box1",style:{"aspect-ratio":"1 / 1"}},[s.dialogData.bombPosition==e.position?(n(),l("div",{key:0,class:_(["cell-bomb",{"cell-bomb-win":s.dialogData.win===!0,"cell-bomb":s.dialogData.win===!1}])},Re,2)):e.checked?(n(),l("div",Ye)):d("",!0)]))),128)):d("",!0),s.dialogData.size===4?(n(!0),l(v,{key:1},g(s.dialogData.board,(e,m)=>(n(),l("div",{key:m,class:"grid-box2",style:{"aspect-ratio":"1 / 1"}},[s.dialogData.bombPosition==e.position?(n(),l("div",{key:0,class:_(["cell-bomb",{"cell-bomb-win":s.dialogData.win===!0,"cell-bomb":s.dialogData.win===!1}])},He,2)):e.checked?(n(),l("div",Ke)):d("",!0)]))),128)):d("",!0)],2)]),t("div",qe,[t("p",Je," Order Point : ₹ "+a(s.dialogData.orderAmount.toFixed(2)),1),t("p",Qe," Pass : "+a(s.dialogData.pass),1)]),t("div",Ze,[t("button",{type:"button",class:"result-ok-btn",onClick:o[11]||(o[11]=(...e)=>c.closeDialog&&c.closeDialog(...e))},"OKAY")])])])]),_:1})):d("",!0)])]),_:1})}const ds=I($,[["render",Me],["__scopeId","data-v-6aeea6a5"]]);export{ds as default};
